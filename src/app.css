@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
    font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background-color: #000000;
    --spotify-green: #1db954;
    --spotify-dark: #121212;
    --spotify-darker: #0a0a0a;
    --spotify-gray: #181818;
  }

  body {
    @apply min-h-screen bg-black text-white antialiased;
    margin: 0;
  }

  ::selection {
    background-color: var(--spotify-green);
    color: #000000;
  }

  #app {
    @apply min-h-screen;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
  }
}

@layer components {
  .spotify-sidebar {
    background-color: var(--spotify-darker);
  }

  .spotify-main {
    background-color: var(--spotify-dark);
  }

  .spotify-player {
    background-color: var(--spotify-gray);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
  }

  .drag-handle {
    -webkit-app-region: drag;
    app-region: drag;
  }

  .no-drag {
    -webkit-app-region: no-drag;
    app-region: no-drag;
  }

  .spotify-card {
    @apply bg-[#181818] rounded-lg p-4 transition-all duration-200 hover:bg-[#282828] cursor-pointer;
  }

  .spotify-card--active {
    @apply bg-[#282828] ring-1 ring-white/10;
  }

  .spotify-list-item {
    @apply px-3 py-1.5 rounded-md transition-all duration-150 cursor-pointer;
  }

  .spotify-list-item--active {
    @apply bg-white/10;
  }

  .spotify-button {
    @apply rounded-full px-4 py-2 text-sm font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
  }

  .spotify-button--primary {
    background-color: var(--spotify-green);
    @apply text-black hover:brightness-110;
  }

  .spotify-button--secondary {
    @apply bg-white/10 text-white hover:bg-white/20;
  }

  .spotify-icon-button {
    @apply w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 hover:bg-white/10 text-white/70 hover:text-white active:scale-95;
  }

  /* Music bar animations */
  @keyframes music-bar-1 {
    0%, 100% { height: 60%; }
    50% { height: 20%; }
  }

  @keyframes music-bar-2 {
    0%, 100% { height: 100%; }
    50% { height: 40%; }
  }

  @keyframes music-bar-3 {
    0%, 100% { height: 80%; }
    50% { height: 30%; }
  }

  /* Pulse animation for playing indicator */
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(29, 185, 84, 0.4);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(29, 185, 84, 0);
    }
  }

  .pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  /* Fade in animation */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
  }

  /* Slide animations */
  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-down {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out forwards;
  }

  .animate-slide-down {
    animation: slide-down 0.3s ease-out forwards;
  }

  /* Scale animation for buttons */
  @keyframes scale-in {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  .animate-scale-in {
    animation: scale-in 0.2s ease-out forwards;
  }

  /* Shimmer effect for loading states */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .shimmer {
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  /* Dragging styles */
  .dragging {
    @apply opacity-50 scale-105;
  }

  .drag-over {
    @apply ring-2 ring-[#1db954] ring-offset-2 ring-offset-[#121212];
  }

  /* Focus styles */
  *:focus-visible {
    @apply outline-none ring-2 ring-[#1db954] ring-offset-2 ring-offset-[#121212];
  }

  /* Tooltip styles */
  [title] {
    position: relative;
  }

  /* Gradient text */
  .gradient-text {
    background: linear-gradient(135deg, #1db954 0%, #1ed760 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}

/* Global transition defaults - excluding width to prevent progress bar jitter */
*:not([role="progressbar"] *) {
  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Progress bar should not have transitions to prevent jitter */
[role="progressbar"] *,
[role="progressbar"] {
  transition: none !important;
}
